#!/usr/bin/python
import subprocess
import os
import time

GREEN = '\033[92m'
RESET = '\033[0m'
BLUE = '\033[94m'

def main():
#    print("=== Radcom NiFi Pre/Post Validation Tool ===\n")
#    print("Version   : v1\n")
#    print("Developer : PSO DevOps\n")
#    print("Developed On : 05th May 2025\n")
#    print("Changes   : v1 : Initial Draft\n")
#    print("###########################################################################################")
#    print("###########################################################################################")
    print("+----------------------------------------------------------------------------+")
    print("| \033[94mWelcome to Radcom Pre/Post Validation Tool -- Developed By PSO-DevOps\033[0m |")
    print("+----------------------------------------------------------------------------+")
    print("+----------------------------------------------------------------------------+\n")
    print("\033[4mType a number to choose the activity you want to perform.\033[0m\n")

    print("     1) Perform Pre Validation. (Note:: This step saves current configuration of Nifi which can be taken reference further).")
    print("     2) Perform Post Validation. (Note:: This step generates file which can be compare with pre-validation file).")
    print("     3) Perform comparison b/w Pre-Validation (generated by step1) & Post-validation (generated by step 2) .")
    print(f"     4) Perform Detailed Comparison ({GREEN}ExecuteSQL Processor{RESET}) b/w Pre-Validation (generated by step1) & Post-validation (generated by step 2) .")
    print("     5) Exit.")
    
    choice = input("\nEnter Your Choice: ").strip()

    if choice == "1":
        print("\n+-------------------------------------------+")
        print("➡️ Building Pre Validation ......")
        print("+-------------------------------------------+\n")
        subprocess.run(["python3", "PreInfo.py"])
    elif choice == "2":
        print("\n+-------------------------------------------+")
        print("➡️ Building Post Validation......")
        print("+-------------------------------------------+\n")
        subprocess.run(["python3", "PostInfo.py"])
    elif choice == "3":
        print("\n➡️ Running Comparison ...\n")
        subprocess.run(["python3", "Compare.py"])
    elif choice == "4":
        print("\n➡️ Detailed Comparison ...\n")
        subprocess.run(["python3", "Sql_Compare.py"])
    elif choice == "5":
        print("\n➡️ Exiting the Program.......Goodbye! \n")
        time.sleep(2) 
        exit()
    else:
        print("❌ Invalid choice. Please enter valid number")

if __name__ == "__main__":
    main()

